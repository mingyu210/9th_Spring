# 🧭 객체 그래프 탐색(Object Graph Traversal)

객체 그래프 탐색(Object Graph Traversal)이란,

> **프로그램 내에서 서로 연결된 객체들 사이의 참조 관계를 따라가며 필요한 데이터에 접근하는 과정**을 의미한다.

객체들은 일반적으로 다른 객체를 필드로 가지고 있으며, 이러한 **연속적인 참조 관계 전체를 객체 그래프(Object Graph)** 라고 한다.  
객체 그래프 탐색은 이 그래프를 차례대로 따라가면서 속성에 접근하거나 상태를 조회하는 작업을 말한다.

```java
user.getAddress().getCity().getRegion().getName();
```
예시로 보면 다음과 같다:

➡️ `User → Address → City → Region`  
이처럼 객체가 단계적으로 연결된 구조를 탐색하는 것이 객체 그래프 탐색이다.

---

## ✅  **장점(Advantages)**

### ✔️ 1) **객체지향적인 직관적 코드 구성**

객체 간 참조를 그대로 활용해 필요한 정보를 얻을 수 있어, 개발자가 구조를 직관적으로 이해할 수 있다.

예를 들어, user.getAddress().getCity() 같은 코드는 현실 세계의 개념 관계를 그대로 반영하기 때문에 전체 구조 파악이 쉽다.

---

### ✔️ 2) **캡슐화와 응집도 유지**

객체 내부의 구현을 감추면서 필요한 정보만 외부에 제공할 수 있다.  
객체 그래프 탐색을 통해 필요한 정보만 단계적으로 접근할 수 있어 캡슐화를 해치지 않는다.

---

### ✔️ 3) **복잡한 관계를 단순한 참조로 해결**

데이터베이스에서처럼 복잡한 JOIN을 쓰지 않고도, 참조 구조만 따라가면 자연스럽게 원하는 정보에 도달할 수 있다.

---

## ❗ **단점(Disadvantages)**

### ⚠️ 1) **지나친 깊이의 탐색으로 인한 성능 문제**

객체가 너무 깊게 참조되어 있을 경우, 의도치 않은 많은 접근이 발생해 성능 저하로 이어질 수 있다.

특히 ORM(JPA 등)의 지연 로딩(Lazy Loading) 환경에서는 **N+1 문제**가 발생할 가능성이 높다.

예:  
`users` 리스트를 1번 가져온 뒤, 각 사용자마다 연결된 데이터를 조회하면 사용자 수(N)만큼 추가 쿼리가 실행되어 **총 N+1번의 쿼리**가 발생.

---

### ⚠️ 2) **순환 참조(Circular Reference) 문제**

객체가 서로를 참조하는 구조일 경우, 탐색 과정에서 무한 순환이 발생할 수 있다.

대표적인 사례:  
JPA 엔티티를 JSON으로 직렬화할 때 `A ↔ B` 형태의 순환 참조가 있으면 변환 과정에서 스택 오버플로우나 직렬화 오류가 발생한다.
